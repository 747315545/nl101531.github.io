---
title: Spring Cloud学习记录(一)--为什么需要Spring Cloud?
tags:
  - Spring    
categories: Spring
date: 2017-06-03 08:30:24
---
最近看了周立大大关于Spring Cloud的分享`itmuch.com`,自己做了一些总结,加深自己的理解.
### 什么是微服务?

#### 什么是单体架构?
说微服务之前先了解单体结构.
**定义**
一个归档包（例如war格式）包含了应用所有功能的应用程序，我们通常称之为单体应用。架构单体应用的方法论，我们称之为单体应用架构。如下图所示,多个业务组件全部放到一个war包中.
![](http://oobu4m7ko.bkt.clouddn.com/1496459037.png?imageMogr2/thumbnail/!60p)


**缺陷**
1.复杂性高:项目是处于不断迭代中的,随着需求的推进,单体项目只会越来越大,越来越复杂,最终导致该单体项目不可维护
2.技术债务:互联网公司流动性高,开发人员又喜欢挖坑打todo却不去解决,就导致人员切换过程中留下的todo越来越多,埋下了很多坑,也最终导致该单体项目不可维护.
3.部署问题:项目的复杂增加导致项目本身启动耗时增加,对于小需求的紧急改动而把该单体项目再重新部署到多台机器上其中的时间成本可想而知.
4.扩展能力:单体项目对项目本身的技术栈都已固定,项目复杂切换成本高,比如把Spring MVC切换为Jersey几乎要成为不可能事件了.比如现在很多Structs2的老项目不得已还需要有一群人在维护或者重构.
5.阻碍技术创新:复杂的老项目很容易打击人的积极性,那么就会导致公司技术栈得不到更新,开发人员想学习新的技术,但又不得不投入大量精力去解决老项目的bugs.

#### 微服务的模式
微服务的出现必然要解决单体应用所带来的痛点.把上面单体应用微服务化后就如下图所示,感受下区别.
![](http://oobu4m7ko.bkt.clouddn.com/1496459019.png?imageMogr2/thumbnail/!70p)
每一个模块单独为一个独立的HTTP Server服务,不同模块之间通过类似REST等轻量级通信方式交互.

#### 微服务的缺点
微服务下以业务为分割线来拆分服务,也会带来很多问题.
1.运维要求比较高:微服务下一个项目会被拆分为众多服务,那么运维所需要维护的服务就变得更多,对其要求自然就变得高了.
2.分布式本身的复杂性:微服务本身就是分布式结构,那么其本身也是复杂性的.对于一个分布式系统，系统容错、网络延迟、分布式事务等都给我们带来了很大的挑战。
3.接口成本调整高:微服务下修改了某一个接口,那么使用该服务的全部服务都需要做相应的调整.
4.重复劳动:每一个服务中可能会出现很多重复性代码,比如实体类,DAO通用查询等.

### Spring Cloud解决的问题
Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。
关于更多详细内容可参考博文: [Spring Cloud技术分析（序）](http://tech.lede.com/2017/03/15/rd/server/SpringCloud0/)

那么接下来便是Spring Cloud的学习

